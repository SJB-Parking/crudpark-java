2025-10-16 23:42:09 [main] INFO  app.Main - Starting CrudPark application...
2025-10-16 23:42:09 [main] INFO  app.util.ConfigManager - Configuration loaded successfully
2025-10-16 23:42:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-16 23:42:10 [main] ERROR app.util.DatabaseConnection - Failed to initialize database connection pool
com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:584)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:571)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.<init>(HikariDataSource.java:80)
	at app.util.DatabaseConnection.<init>(DatabaseConnection.java:42)
	at app.util.DatabaseConnection.getInstance(DatabaseConnection.java:52)
	at app.Main.main(Main.java:28)
Caused by: org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:352)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:273)
	at org.postgresql.Driver.makeConnection(Driver.java:446)
	at org.postgresql.Driver.connect(Driver.java:298)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	... 5 common frames omitted
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:260)
	at org.postgresql.core.PGStream.<init>(PGStream.java:121)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:140)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:268)
	... 14 common frames omitted
2025-10-16 23:42:10 [main] ERROR app.Main - Failed to initialize database connection
app.exception.DatabaseException: Failed to initialize database connection
	at app.util.DatabaseConnection.<init>(DatabaseConnection.java:46)
	at app.util.DatabaseConnection.getInstance(DatabaseConnection.java:52)
	at app.Main.main(Main.java:28)
Caused by: com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:584)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:571)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.<init>(HikariDataSource.java:80)
	at app.util.DatabaseConnection.<init>(DatabaseConnection.java:42)
	... 2 common frames omitted
Caused by: org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:352)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:273)
	at org.postgresql.Driver.makeConnection(Driver.java:446)
	at org.postgresql.Driver.connect(Driver.java:298)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	... 5 common frames omitted
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:260)
	at org.postgresql.core.PGStream.<init>(PGStream.java:121)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:140)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:268)
	... 14 common frames omitted
[2025-10-20 00:20:18] [main] [INFO ] SwingAuthController - Processing login request
[2025-10-20 00:20:18] [main] [INFO ] AuthService - Login attempt for: admin@parking.com
[2025-10-20 00:20:21] [main] [INFO ] AuthService - Login successful: admin@parking.com (Admin User)
[2025-10-20 00:20:21] [main] [INFO ] SwingAuthController - Login successful for: Admin User
[2025-10-20 00:20:38] [main] [INFO ] SwingVehicleEntryController - Processing vehicle entry: POI123 (Operator ID: 3)
[2025-10-20 00:20:40] [main] [INFO ] VehicleDAO - Creating new vehicle: POI123 (Type: Car)
[2025-10-20 00:20:40] [main] [INFO ] VehicleDAO - Vehicle created: POI123 - ID 19
[2025-10-20 00:20:41] [main] [INFO ] TicketDAO - Creating ticket: TKT000009 for vehicle ID 19 (Type: Guest)
[2025-10-20 00:20:41] [main] [INFO ] TicketDAO - Ticket created successfully: ID 11 - TKT000009
[2025-10-20 00:20:42] [main] [INFO ] SwingVehicleEntryController - Entry successful - Ticket: TKT000009 (POI123)
[2025-10-20 00:28:24] [main] [INFO ] SwingAuthController - Processing login request
[2025-10-20 00:28:24] [main] [INFO ] AuthService - Login attempt for: admin@parking.com
[2025-10-20 00:28:26] [main] [INFO ] AuthService - Login successful: admin@parking.com (Admin User)
[2025-10-20 00:28:26] [main] [INFO ] SwingAuthController - Login successful for: Admin User
[2025-10-20 00:28:35] [main] [INFO ] SwingVehicleEntryController - Processing vehicle entry: JJJ888 (Operator ID: 3)
[2025-10-20 00:28:38] [main] [INFO ] VehicleDAO - Creating new vehicle: JJJ888 (Type: Car)
[2025-10-20 00:28:38] [main] [INFO ] VehicleDAO - Vehicle created: JJJ888 - ID 20
[2025-10-20 00:28:38] [main] [INFO ] TicketDAO - Creating ticket: TKT000010 for vehicle ID 20 (Type: Guest)
[2025-10-20 00:28:39] [main] [INFO ] TicketDAO - Ticket created successfully: ID 12 - TKT000010
[2025-10-20 00:28:39] [main] [INFO ] SwingVehicleEntryController - Entry successful - Ticket: TKT000010 (JJJ888)
[2025-10-20 00:42:00] [main] [INFO ] SwingAuthController - Processing login request
[2025-10-20 00:42:00] [main] [INFO ] AuthService - Login attempt for: admin@parking.com
[2025-10-20 00:42:02] [main] [INFO ] AuthService - Login successful: admin@parking.com (Admin User)
[2025-10-20 00:42:02] [main] [INFO ] SwingAuthController - Login successful for: Admin User
[2025-10-20 00:42:11] [main] [INFO ] SwingVehicleEntryController - Processing vehicle entry: AAS221 (Operator ID: 3)
[2025-10-20 00:42:13] [main] [INFO ] VehicleDAO - Creating new vehicle: AAS221 (Type: Car)
[2025-10-20 00:42:13] [main] [INFO ] VehicleDAO - Vehicle created: AAS221 - ID 21
[2025-10-20 00:42:14] [main] [INFO ] TicketDAO - Creating ticket: TKT000011 for vehicle ID 21 (Type: Guest)
[2025-10-20 00:42:14] [main] [INFO ] TicketDAO - Ticket created successfully: ID 13 - TKT000011
[2025-10-20 00:42:15] [main] [INFO ] SwingVehicleEntryController - Entry successful - Ticket: TKT000011 (AAS221)
[2025-10-20 00:45:28] [main] [INFO ] SwingVehicleExitController - Processing vehicle exit: Ticket 13 (Operator ID: 3)
[2025-10-20 00:45:28] [main] [INFO ] ParkingService - Processing vehicle exit: Ticket ID 13 (Operator ID: 3)
[2025-10-20 00:45:31] [main] [INFO ] RateDAO - Active rate found for Car: Tarifa Carros 2025 - $3000.0/hr (Grace: 30 min)
[2025-10-20 00:45:31] [main] [INFO ] ParkingService - Exit free - Grace period: AAS221 (Duration: 3min)
[2025-10-20 00:45:31] [main] [INFO ] ParkingService - Vehicle exit successful: AAS221 - Ticket ID: 13 (Amount: $0.0, Free: true)
[2025-10-20 00:45:31] [main] [INFO ] SwingVehicleExitController - Exit successful - Amount: $0.0
[2025-10-20 11:18:41] [app.Main.main()] [INFO ] SwingAuthController - Processing login request
[2025-10-20 11:18:41] [app.Main.main()] [INFO ] AuthService - Login attempt for: admin@parking.com
[2025-10-20 11:18:42] [app.Main.main()] [WARN ] SwingAuthController - Login failed: Error accessing authentication data: Error accessing operator data (DATA_ACCESS)
[2025-10-20 11:18:57] [app.Main.main()] [INFO ] SwingAuthController - Processing login request
[2025-10-20 11:18:57] [app.Main.main()] [INFO ] AuthService - Login attempt for: admin@parking.com
[2025-10-20 11:18:57] [app.Main.main()] [WARN ] SwingAuthController - Login failed: Error accessing authentication data: Error accessing operator data (DATA_ACCESS)
[2025-10-20 11:21:20] [app.Main.main()] [INFO ] SwingAuthController - Processing login request
[2025-10-20 11:21:20] [app.Main.main()] [INFO ] AuthService - Login attempt for: admin@parking.com
[2025-10-20 11:21:21] [app.Main.main()] [INFO ] AuthService - Login successful: admin@parking.com (Admin User)
[2025-10-20 11:21:21] [app.Main.main()] [INFO ] SwingAuthController - Login successful for: Admin User
[2025-10-20 11:22:18] [app.Main.main()] [INFO ] SwingVehicleEntryController - Processing vehicle entry: PPP000 (Operator ID: 3)
[2025-10-20 11:22:19] [app.Main.main()] [INFO ] VehicleDAO - Creating new vehicle: PPP000 (Type: Car)
[2025-10-20 11:22:19] [app.Main.main()] [ERROR] VehicleDAO - SQL error creating vehicle PPP000: This connection has been closed.
[2025-10-20 11:22:19] [app.Main.main()] [WARN ] SwingVehicleEntryController - Entry failed: Error processing vehicle entry: Database connection error (DATA_ACCESS)
[2025-10-20 11:25:37] [app.Main.main()] [INFO ] SwingAuthController - Processing login request
[2025-10-20 11:25:37] [app.Main.main()] [INFO ] AuthService - Login attempt for: admin@parking.com
[2025-10-20 11:25:39] [app.Main.main()] [INFO ] AuthService - Login successful: admin@parking.com (Admin User)
[2025-10-20 11:25:39] [app.Main.main()] [INFO ] SwingAuthController - Login successful for: Admin User
[2025-10-20 11:25:45] [app.Main.main()] [INFO ] SwingVehicleEntryController - Processing vehicle entry: LLL333 (Operator ID: 3)
[2025-10-20 11:25:46] [app.Main.main()] [INFO ] VehicleDAO - Creating new vehicle: LLL333 (Type: Car)
[2025-10-20 11:25:46] [app.Main.main()] [ERROR] VehicleDAO - SQL error creating vehicle LLL333: This connection has been closed.
[2025-10-20 11:25:46] [app.Main.main()] [WARN ] SwingVehicleEntryController - Entry failed: Error processing vehicle entry: Database connection error (DATA_ACCESS)
[2025-10-20 11:37:00] [app.Main.main()] [INFO ] SwingAuthController - Processing login request
[2025-10-20 11:37:00] [app.Main.main()] [INFO ] AuthService - Login attempt for: admin@parking.com
[2025-10-20 11:37:02] [app.Main.main()] [INFO ] AuthService - Login successful: admin@parking.com (Admin User)
[2025-10-20 11:37:02] [app.Main.main()] [INFO ] SwingAuthController - Login successful for: Admin User
[2025-10-20 11:37:15] [app.Main.main()] [INFO ] SwingVehicleEntryController - Processing vehicle entry: ZZZ111 (Operator ID: 3)
[2025-10-20 11:37:16] [app.Main.main()] [INFO ] VehicleDAO - Creating new vehicle: ZZZ111 (Type: Car)
[2025-10-20 11:37:16] [app.Main.main()] [INFO ] VehicleDAO - Vehicle created: ZZZ111 - ID 22
[2025-10-20 11:37:17] [app.Main.main()] [INFO ] TicketDAO - Creating ticket: TKT000012 for vehicle ID 22 (Type: Guest)
[2025-10-20 11:37:17] [app.Main.main()] [INFO ] TicketDAO - Ticket created successfully: ID 14 - TKT000012
[2025-10-20 11:37:17] [app.Main.main()] [INFO ] SwingVehicleEntryController - Entry successful - Ticket: TKT000012 (ZZZ111)
[2025-10-20 11:40:41] [app.Main.main()] [INFO ] SwingAuthController - Processing login request
[2025-10-20 11:40:41] [app.Main.main()] [INFO ] AuthService - Login attempt for: admin@parking.com
[2025-10-20 11:40:42] [app.Main.main()] [INFO ] AuthService - Login successful: admin@parking.com (Admin User)
[2025-10-20 11:40:42] [app.Main.main()] [INFO ] SwingAuthController - Login successful for: Admin User
[2025-10-20 11:40:51] [app.Main.main()] [INFO ] SwingVehicleEntryController - Processing vehicle entry: CCC111 (Operator ID: 3)
[2025-10-20 11:40:52] [app.Main.main()] [INFO ] VehicleDAO - Creating new vehicle: CCC111 (Type: Car)
[2025-10-20 11:40:52] [app.Main.main()] [INFO ] VehicleDAO - Vehicle created: CCC111 - ID 23
[2025-10-20 11:40:53] [app.Main.main()] [INFO ] TicketDAO - Creating ticket: TKT000013 for vehicle ID 23 (Type: Guest)
[2025-10-20 11:40:53] [app.Main.main()] [INFO ] TicketDAO - Ticket created successfully: ID 15 - TKT000013
[2025-10-20 11:40:53] [app.Main.main()] [INFO ] SwingVehicleEntryController - Entry successful - Ticket: TKT000013 (CCC111)
[2025-10-20 11:53:46] [app.Main.main()] [INFO ] SwingAuthController - Processing login request
[2025-10-20 11:53:46] [app.Main.main()] [INFO ] AuthService - Login attempt for: admin@parking.com
[2025-10-20 11:53:48] [app.Main.main()] [INFO ] AuthService - Login successful: admin@parking.com (Admin User)
[2025-10-20 11:53:48] [app.Main.main()] [INFO ] SwingAuthController - Login successful for: Admin User
[2025-10-20 11:53:55] [app.Main.main()] [INFO ] SwingVehicleEntryController - Processing vehicle entry: VVV111 (Operator ID: 3)
[2025-10-20 11:53:56] [app.Main.main()] [INFO ] VehicleDAO - Creating new vehicle: VVV111 (Type: Car)
[2025-10-20 11:53:56] [app.Main.main()] [INFO ] VehicleDAO - Vehicle created: VVV111 - ID 24
[2025-10-20 11:53:57] [app.Main.main()] [INFO ] TicketDAO - Creating ticket: TKT000014 for vehicle ID 24 (Type: Guest)
[2025-10-20 11:53:57] [app.Main.main()] [INFO ] TicketDAO - Ticket created successfully: ID 16 - TKT000014
[2025-10-20 11:53:57] [app.Main.main()] [INFO ] SwingVehicleEntryController - Entry successful - Ticket: TKT000014 (VVV111)
